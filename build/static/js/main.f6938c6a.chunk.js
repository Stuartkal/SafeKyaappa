(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){e.exports=a(326)},157:function(e,t,a){},166:function(e,t,a){e.exports=a.p+"static/media/land.393de9fb.png"},326:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(9),c=a.n(r),o=(a(157),a(42)),i=a(35),u=a(357),s=a(359);a(77);function m(){return l.a.createElement(u.a,{position:"relative",className:"header"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",paddingRight:300,paddingLeft:300}},l.a.createElement(o.b,{className:"links",to:"/"},l.a.createElement("h2",{style:{color:"white"}},"SafeKyapa")),l.a.createElement(s.a,null,l.a.createElement(o.b,{className:"links",to:"/"},"Home"),l.a.createElement(o.b,{className:"links",to:"/register"},"Register/Transfer"),l.a.createElement(o.b,{className:"links",to:"/search"},"Search"))))}var h=a(360),p=a(361);function d(){return l.a.createElement("center",null,l.a.createElement(h.a,null,l.a.createElement("div",{className:"home"},l.a.createElement("div",{className:"banner"},l.a.createElement("div",null,l.a.createElement("img",{className:"img",src:a(166),alt:"avatar"})),l.a.createElement(p.a,{className:"title",variant:"h2",gutterBottom:!0},"Safe Kyapa"),l.a.createElement("hr",null),l.a.createElement(p.a,{style:{color:"white"},variant:"body1",gutterBottom:!0},"We welcome you to safe kyapa ",l.a.createElement("br",null),"a digitally built land title management system ",l.a.createElement("br",null),"leveraging on cryptography and geofencing ",l.a.createElement("br",null),"for secure land transactions.")))))}var E=a(33),f=a(45),b=a(47),g=a(46),v=a(48),y=a(362),N=a(327),k=a(366),w=a(365),S=a(368),C=a(364),T=a(147),x=a(27),j=a.n(x),O=a(51),B=a(53),L=a.n(B);a(178);L.a.initializeApp({apiKey:"AIzaSyASAI-QVI6eocxjKrJLdhryB5HiaPqghfY",authDomain:"safekyappa.firebaseapp.com",databaseURL:"https://safekyappa.firebaseio.com",projectId:"safekyappa",storageBucket:"safekyappa.appspot.com",messagingSenderId:"817260037896",appId:"1:817260037896:web:980bb8e58872a881"});var F=function e(){var t=this;Object(E.a)(this,e),this.registerTitle=function(e){return L.a.firestore().collection("Titles").doc().set(e).then(function(){return console.log("Saved Succesffully")}).catch(function(e){return console.log(e)})},this.searchTitle=function(){var e=Object(O.a)(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.firestore().collection("Titles").where("district","==",t.district).where("county","==",t.county).where("plotNumber","==",t.plotNumber).where("blockNumber","==",t.blockNumber).get().then(function(e){return e}).catch(function(e){return console.log(e)});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.transferTitle=function(){var e=Object(O.a)(j.a.mark(function e(a){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchTitle({district:a.district,county:a.county,plotNumber:a.plotNumber,blockNumber:a.blockNumber});case 2:(n=e.sent)&&n.forEach(function(e){return L.a.firestore().collection("PendingTransactions").doc().set(Object(T.a)({},a,{orginalTitleId:e.id})).then(function(){return console.log("Transfer initiated")}).catch(function(e){return console.log(e)})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.storeFile=function(){var e=Object(O.a)(j.a.mark(function e(t){var a,n,l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.a.storage().ref(),n=a.child("files/".concat(t.name+Date.now())),e.next=4,n.put(t).then(function(){return n.getDownloadURL().then(function(e){return e}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log("There was an error uploading the file")});case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},P=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).registerTitle=function(e){e.preventDefault(),a.setState({loading:!0}),a.firebase.storeFile(a.profilePhotoRef.files[0]).then(function(e){return a.setState({photoUrl:e}),a.firebase.storeFile(a.landTitleRef.files[0]).then(function(e){a.setState({landTitleFileUrl:e});var t=a.state;return delete t.loading,a.setState({loading:!1}),a.firebase.registerTitle(t)}).catch(function(e){return a.setState({loading:!1})})})},a.transferTitle=function(e){e.preventDefault(),a.setState({loading:!0}),a.firebase.storeFile(a.profilePhotoRef.files[0]).then(function(e){return a.setState({photoUrl:e}),a.firebase.storeFile(a.landTitleRef.files[0]).then(function(e){a.setState({landTitleFileUrl:e});var t=a.state;return delete t.loading,a.setState({loading:!1}),a.firebase.transferTitle(t)}).catch(function(e){return a.setState({loading:!1})})})},a.state={name:"",email:"",phoneNumber:"",incumberace:"",photoUrl:null,landTitleFileUrl:null,district:"",county:"",blockNumber:"",plotNumber:"",landSize:"",landType:"Mailo Land",loading:!1},a.firebase=new F,a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("center",null,l.a.createElement(h.a,{container:!0,spacing:2},this.state.loading&&l.a.createElement("div",{style:{position:"absolute",display:"flex",height:"100%",width:"100%",backgroundColor:"gray",alignItems:"center",justifyContent:"center"}},l.a.createElement(y.a,null)),l.a.createElement(h.a,{item:!0,xs:12,lg:12,md:12,alignItems:"center"},l.a.createElement(N.a,{style:{padding:"10px",margin:0,marginRight:"auto",marginLeft:"auto",maxWidth:"80%"}},l.a.createElement("h1",null,"Register/Transfer Land"),l.a.createElement("div",null,l.a.createElement("h3",null,"Personal/Ownership Data"),l.a.createElement("hr",{className:"separator"}),l.a.createElement("form",{autoComplete:"off"},l.a.createElement("p",null,l.a.createElement(k.a,{className:"textField",name:"name",label:"Name",value:this.state.name,placeholder:"Enter Full Name",onChange:function(t){return e.setState({name:t.target.value})}})),l.a.createElement("p",null,l.a.createElement(k.a,{className:"textField",name:"email",label:"Email",placeholder:"Enter Email",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})),l.a.createElement("p",null,l.a.createElement(k.a,{className:"textField",name:"phoneNumber",label:"Phone Number",placeholder:"Enter Phone Number",value:this.state.phoneNumber,onChange:function(t){return e.setState({phoneNumber:t.target.value})}})),l.a.createElement("p",null,l.a.createElement(k.a,{className:"textField",name:"Encumberace",label:"Encumberace",placeholder:"People who have claim on the land(Bank, Relatives)",value:this.state.incumberace,onChange:function(t){return e.setState({incumberace:t.target.value})}})),"Upload photo of land title holder",l.a.createElement("input",{type:"file",name:"profile-photo",ref:function(t){return e.profilePhotoRef=t}}),l.a.createElement("h3",null,"Land/Boundary Data"),l.a.createElement("hr",{className:"separator"}),l.a.createElement("p",null,l.a.createElement(k.a,{className:"textField",name:"district",label:"District",placeholder:"Enter District",value:this.state.district,onChange:function(t){return e.setState({district:t.target.value.toLowerCase()})}})),l.a.createElement("p",null,l.a.createElement(k.a,{className:"textField",name:"county",label:"county",placeholder:"Enter county",value:this.state.county,onChange:function(t){return e.setState({county:t.target.value.toLowerCase()})}})),l.a.createElement("p",null,l.a.createElement(k.a,{className:"textField",name:"blockNumber",label:"Block Number",placeholder:"Enter Block Number ",value:this.state.blockNumber,onChange:function(t){return e.setState({blockNumber:t.target.value})}})),l.a.createElement(k.a,{className:"textField",name:"plot number",label:"Plot Number",placeholder:"Enter Plot Number",value:this.state.plotNumber,onChange:function(t){return e.setState({plotNumber:t.target.value})}}),l.a.createElement("p",null,l.a.createElement(k.a,{className:"textField",name:"landSize",label:"Land Size",placeholder:"Enter land size",value:this.state.landSize,onChange:function(t){return e.setState({landSize:t.target.value})}})),l.a.createElement("p",null,l.a.createElement("span",{style:{marginRight:10}},"Land Type"),l.a.createElement(w.a,{value:this.state.landType,onChange:function(t){return e.setState({landType:t.target.value})}},l.a.createElement(S.a,{value:"Mailo Land"},"Mailo"),l.a.createElement(S.a,{value:"Leased Land"},"Leased"),l.a.createElement(S.a,{value:"Freehold Land"},"Freehold"))),l.a.createElement("p",null,"Upload land title PDF",l.a.createElement("input",{type:"file",name:"file",ref:function(t){return e.landTitleRef=t}}))),l.a.createElement("p",null,l.a.createElement(C.a,{style:{backgroundColor:"#3CAEA3",marginRight:"50px"},onClick:this.registerTitle},"Register"),l.a.createElement(C.a,{style:{backgroundColor:"#3CAEA3"},onClick:this.transferTitle},"Transfer")))))))}}]),t}(n.Component),R=a(146),D=a(58),z=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{width:"50%"}},l.a.createElement(D.Map,{google:this.props.google,zoom:14,initialCenter:{lat:.347596,lng:32.58252}},l.a.createElement(D.Marker,{onClick:this.onMarkerClick,name:"Current location"}),l.a.createElement(D.InfoWindow,{onClose:this.onInfoWindowClose},l.a.createElement("div",null))))}}]),t}(n.Component),A=Object(D.GoogleApiWrapper)({apiKey:"AIzaSyAHe1hwOKcrz9BhGwR58cEeJEGhME36O_w"})(z),I=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).searchLandTitle=function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.firebase.searchTitle(a.state).then(function(e){e.forEach(function(e){a.setState({data:[].concat(Object(R.a)(a.state.data),[e.data()])})})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={blockNumber:"",plotNumber:"",county:"",district:"",data:[]},a.firebase=new F,a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.data?this.state.data[0]:null;return l.a.createElement("div",null,l.a.createElement(h.a,{container:!0,spacing:2},l.a.createElement(h.a,{align:"center",item:!0,xs:4},l.a.createElement(N.a,{style:{padding:"10px",marginBottom:"10px"}},l.a.createElement("h3",null,"Search for Title"),l.a.createElement("p",null,l.a.createElement(k.a,{name:"district",label:"District",placeholder:"Enter District",value:this.state.district,onChange:function(t){return e.setState({district:t.target.value.toLowerCase()})}})),l.a.createElement("p",null,l.a.createElement(k.a,{name:"county",label:"county",placeholder:"Enter county",value:this.state.county,onChange:function(t){return e.setState({county:t.target.value.toLowerCase()})}})),l.a.createElement("p",null,l.a.createElement(k.a,{name:"blockNumber",label:"Block Number",placeholder:"Enter Block Number ",value:this.state.blockNumber,onChange:function(t){return e.setState({blockNumber:t.target.value})}})),l.a.createElement("p",null,l.a.createElement(k.a,{name:"plot number",label:"Plot Number",placeholder:"Enter Plot Number",value:this.state.plotNumber,onChange:function(t){return e.setState({plotNumber:t.target.value})}})),l.a.createElement("p",null,l.a.createElement(C.a,{style:{backgroundColor:"#3CAEA3"},onClick:this.searchLandTitle},"Search Title"))),0!==this.state.data.length?l.a.createElement(N.a,{style:{padding:"10px"}},l.a.createElement("h3",null,"Title Details"),l.a.createElement("p",null,l.a.createElement("h4",null,"Name: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.name)),l.a.createElement("p",null,l.a.createElement("img",{src:t.photoUrl,alt:"User Photo",height:"200",width:"200"})),l.a.createElement("p",null,l.a.createElement("h4",null,"Email: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.email)),l.a.createElement("p",null,l.a.createElement("h4",null,"Phone Number: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.phoneNumber)),l.a.createElement("p",null,l.a.createElement("h4",null,"Encumbrance: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.incumbrance)),l.a.createElement("p",null,l.a.createElement("h4",null,"District: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.district)),l.a.createElement("p",null,l.a.createElement("h4",null,"County: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.county)),l.a.createElement("p",null,l.a.createElement("h4",null,"Block Number: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.blockNumber)),l.a.createElement("p",null,l.a.createElement("h4",null,"Plot Number: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.plotNumber)),l.a.createElement("p",null,l.a.createElement("h4",null,"Land Size: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.landSize)),l.a.createElement("p",null,l.a.createElement("h4",null,"Land Type: "),l.a.createElement(p.a,{variant:"headline",gutterBottom:!0},t.landType))):l.a.createElement("p",null,"Please search a correct title, no title available")),l.a.createElement(h.a,{item:!0,xs:8},l.a.createElement(N.a,null,l.a.createElement(A,null)))))}}]),t}(n.Component);var U=function(){return l.a.createElement("div",null,l.a.createElement(k.a,{name:"password",lable:"Password",type:"password"}))};var M=function(){return l.a.createElement(o.a,null,l.a.createElement(m,null),l.a.createElement(i.a,{exact:!0,path:"/",component:d}),l.a.createElement(i.a,{path:"/register/",component:P}),l.a.createElement(i.a,{path:"/confirm/",component:U}),l.a.createElement(i.a,{path:"/search/",component:I}))};var W=function(){return l.a.createElement("div",null,l.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,a){}},[[152,1,2]]]);
//# sourceMappingURL=main.f6938c6a.chunk.js.map